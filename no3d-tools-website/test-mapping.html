<!DOCTYPE html>
<html>
<head>
  <title>Test Polar Product Mapping</title>
</head>
<body>
  <h1>Polar Product Mapping Test</h1>
  <div id="results"></div>

  <script src="polar-products.js"></script>
  <script>
    const resultsDiv = document.getElementById('results');

    // Test that POLAR_PRODUCTS exists
    if (typeof POLAR_PRODUCTS === 'undefined') {
      resultsDiv.innerHTML = '<p style="color: red;">❌ POLAR_PRODUCTS is not defined!</p>';
    } else {
      const productCount = Object.keys(POLAR_PRODUCTS).length;
      let html = `<p style="color: green;">✅ POLAR_PRODUCTS loaded successfully</p>`;
      html += `<p>Total products: ${productCount}</p>`;
      html += `<h2>Product List:</h2><ul>`;

      Object.entries(POLAR_PRODUCTS).forEach(([handle, product]) => {
        const hasId = product.productId ? '✅' : '❌';
        const hasPriceId = product.priceId ? '✅' : '❌';
        html += `<li>
          <strong>${handle}</strong> - ${product.name}<br>
          ${hasId} Product ID: ${product.productId || 'MISSING'}<br>
          ${hasPriceId} Price ID: ${product.priceId || 'MISSING'}
        </li>`;
      });

      html += '</ul>';

      // Check if all products have required fields
      const allValid = Object.values(POLAR_PRODUCTS).every(p =>
        p.productId && p.priceId && p.name
      );

      if (allValid) {
        html += '<p style="color: green; font-weight: bold;">✅ All products have valid productId, priceId, and name!</p>';
      } else {
        html += '<p style="color: red; font-weight: bold;">❌ Some products are missing required fields!</p>';
      }

      resultsDiv.innerHTML = html;
    }
  </script>
</body>
</html>
